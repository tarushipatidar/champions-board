<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/ChampionCard.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/ChampionCard.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, { useEffect } from 'react';
import { useSelector, useDispatch } from 'react-redux';
import { addToWatchList, removeFromWatchList } from '../actions/index';
import { Link } from 'react-router-dom';
import ChampionModal from './ChampionModal';
import ShowMessage from './ShowMessage';

/**
 * JSX Component for displaying the champions card

 * @prop {object} champion contain all details of a champion
*/
export default function ChampionCard({ champion }) {
  const [currentUser, watchList] = useSelector((state) => [state.updateCurrentUser, state.updateWatchList]);
  const dispatch = useDispatch();
  const { id, name, image_url, attackrange, attackdamage, armor } = champion;

  useEffect(() => {
    // set watchlist to localStorage to get its current data for initial state. By doing this after page refresh data will not loose.
    localStorage.setItem('watchList', JSON.stringify(watchList));
  }, [watchList]);

  const updateToWatchList = (e, type) => {
    if (Object.keys(currentUser).length === 0) {
      ShowMessage('You Need To Login First!');
    } else {
      let champion = JSON.parse(e.target.value);
      if (type === 'Add') {
        dispatch(addToWatchList(champion));
      } else {
        dispatch(removeFromWatchList(champion));
      }
    }
  };

  return (
    &lt;>
      &lt;ChampionModal champion={champion} />

      &lt;Link className="link-danger" data-bs-toggle="modal" data-bs-target={"#myModal" + String(id)}>
        &lt;div className='row padding-10'>
          &lt;div className='col-sm-4' style={{ paddingBottom: '5px' }}>
            &lt;img src={image_url} alt="image not found" style={{ width: '100%' }} />
          &lt;/div>
          &lt;div className='col-sm-8 champ-short-description'>
            &lt;h4 style={{ fontFamily: 'Black Ops One' }}>{name}&lt;/h4>
            &lt;ul>
              &lt;li style={{ fontWeight: 'bold' }}>ID: {id}&lt;/li>
              &lt;li>Armor: {armor}&lt;/li>
              &lt;li>Attackrange: {attackrange}&lt;/li>
              &lt;li>Attackdamage: {attackdamage}&lt;/li>
            &lt;/ul>
          &lt;/div>
        &lt;/div>
      &lt;/Link>

      {
        watchList.find((ch) => ch.id === champion.id) ?
          &lt;button className='champ-remove-button' value={JSON.stringify(champion)} onClick={(e) => updateToWatchList(e, 'Remove')} > UnWatch &lt;/button> :
          &lt;button className='champ-add-button' value={JSON.stringify(champion)} onClick={(e) => updateToWatchList(e, 'Add')} > Watch &lt;/button>
      }
    &lt;/>
  )
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#ApiCall">ApiCall</a></li><li><a href="global.html#ShowMessage">ShowMessage</a></li><li><a href="global.html#addToWatchList">addToWatchList</a></li><li><a href="global.html#logInUser">logInUser</a></li><li><a href="global.html#logOutUser">logOutUser</a></li><li><a href="global.html#removeFromWatchList">removeFromWatchList</a></li><li><a href="global.html#sortArrayOfObjectByKey">sortArrayOfObjectByKey</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.0</a> on Fri Dec 02 2022 18:09:20 GMT+0530 (India Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
